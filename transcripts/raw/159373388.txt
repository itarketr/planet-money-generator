DAVID KESTENBAUM, HOST: The whole thing happened so fast that if you ducked out for a cup of coffee, you could have missed it entirely. The financial world for a moment became unglued. It was May 6, 2010. At 2:32 p.m., a trader working in the mutual fund business issued an order to sell some investments. It was a large amount - 4.1 billion dollars' worth. So the trader decided to do it gradually. The trader used a computer program, a computer algorithm, that would sell the investments bit by bit so it wouldn't disturb the markets.There was, we now know, a flaw in that computer program. In a matter of minutes, stock markets and financial markets looked like they were going into freefall. It's hard to capture that on radio, but there is one guy who does an audio play-by-play for people who want to listen in, usually in the background, to what's going on in the markets.(SOUNDBITE OF ARCHIVED RECORDING)BEN LICHTENSTEIN: Five-even offer comes in. Four-evens are trading in and out. Three-evens are trading in and out. Three-even are bidding here now. You're going to get a low print-up 1,103-even.KESTENBAUM: This is Ben Lichtenstein of TradersAudio. The time is 2:42.(SOUNDBITE OF ARCHIVED RECORDING)LICHTENSTEIN: ...Are trading. Ninety-two-evens are trading here now, guys. Ninety-one-evens are trading. Eighty-nines are trading. Eighty-eight halves (ph) are trading. Eighty-seven-evens are trading. Eighty-six-evens are trading. Eighty-five-evens are trading here now, guys, all the way down. Eighty-four-evens are trading here now, guys.KESTENBAUM: Some things looked momentarily worthless, trading for just a penny. Others went crazy high, selling for $100,000. And then, just as quickly, everything went back to normal, a rift in the space-time continuum that healed itself. This came to be known as the flash crash.The Securities and Exchange Commission later issued a 104-page report which reconstructed the events of that day. It turned out the problem wasn't just one flawed computer algorithm. It was that that trader's computer, when it was selling those investments, it was selling to other computers run by other algorithms. The result was a mess.(SOUNDBITE OF ARCHIVED RECORDING)UNIDENTIFIED MAN: About three-even in and out. Three-even bidding in and out. Guys, we are closed.KESTENBAUM: Hello and welcome to PLANET MONEY. I'm David Kestenbaum.JACOB GOLDSTEIN, HOST: And I'm Jacob Goldstein. Today is Tuesday, August 21, 2012. David, that flash crash that you just described, it was this wake-up call when, all of a sudden, lots of people saw that the markets are now largely driven by computers that are buying and selling to each other. And they're just doing whatever those algorithms tell them to do. And sometimes those algorithms go haywire.KESTENBAUM: Today on the show, we meet a man, one of the fathers of computerized trading, who tells us the truly crazy story of how he got here. And we ask him what he thinks of this world that he helped create.(SOUNDBITE OF CALEXICO SONG, "TWO SILVER TREES")KESTENBAUM: The man you're going to meet - his name is Thomas Peterffy. And I read about him in this new book that just came out, "Automate This" by Christopher Steiner. It's one of those books you think you're just going to skim, but then you have to keep reading and reading. Peterffy's story was so amazing that I went to talk to him. And I asked him to start at the beginning. And he started right at the beginning.Peterffy was born in the middle of World War II in the middle of the actual war in Budapest. He was born in the basement of a hospital because of the shelling. He grew up in a building that was partly bombed out. And his first real experience with trading happened when he was around 12 years old. A friend of his went across the border to Austria and brought back something truly precious.THOMAS PETERFFY: Juicy Fruit gum. These were beautiful, yellow Juicy Fruit (laughter) gum sticks. And so he sold them to me for two forints, which was the Hungarian currency, per stick.KESTENBAUM: Peterffy takes the gum. He cuts each stick into five small pieces. And he sells the pieces to his friends in school for one forint each, making a little profit for himself. Now, Hungary was communist at the time, and this did not go over well at school.PETERFFY: And soon enough, the teachers noticed in the school that all the kids were sitting around chewing gum. And then, of course (laughter), eventually the principal found out about this and called me down into his office. And he said, well, where is your communist conscience? And I didn't know what he was talking about (laughter). He didn't like the profiteering. He didn't like the gum itself. He didn't like anything. (Laughter)KESTENBAUM: Was that your first time buying low and selling high?PETERFFY: That is correct.KESTENBAUM: Peterffy eventually makes it out of Hungary. He finds a way to get to the United States. He speaks almost no English. This is 1965, and he lives here in New York in a Hungarian neighborhood on the East Side. And he gets a job as a draftsman at an engineering firm, which is where he meets his first computer.It's basically a primitive calculator. But for Peterffy, this is love at first sight. He stays up all night programming it. And that finally puts Peterffy at the place where he will shape history - the financial markets. He begins working for a trading firm that's interested in using computers.GOLDSTEIN: And David, this is really a pivotal moment in the history of the market. You know, it's the early 1970s. Computers are no longer the size of a whole room. They're cheap enough that an ordinary company can buy one. And you have people on Wall Street starting to say, hey, maybe a computer can help me figure out how to make money in the market.KESTENBAUM: And Peterffy focuses on using the computer to try and make money in the options market. So options are what we call derivatives. When you buy an option on, say, a stock, you don't buy the actual stock. What you're buying is a guarantee that you can buy that stock at a certain price at a specific date in the future. It's like, whoa, what should that thing cost, right?It's like some weird insurance policy that's going to depend on the stock price now, on how far off that future date is, on how much the price of the stock moves around. So figuring out what the price of an option should be - that involves math. And at the time, Peterffy says, no one was really using math. So the prices for these things were all over the place.PETERFFY: I mean, nobody really knew (laughter) what they were doing. You know, there were the numbers where, you know, value had nothing to do with (laughter) the real value of options.KESTENBAUM: Peterffy starts trying to figure out a way to calculate what these options should cost. He runs little simulations in a computer. If I sold someone this option at price X, how often does it end up being worth more than X? How often less than X? What is a fair price for it?PETERFFY: It took me about nine months to figure this out. But once I figured it out, (laughter) it was a fantastic feeling. And...KESTENBAUM: Because it meant there was a way to price them.PETERFFY: That's right.GOLDSTEIN: David, we should point out here, Peterffy is not the only person at this time who's trying to do this. In fact, a couple economists went on to win a Nobel Prize for some related work they did on options-pricing around the time. But this idea - it was not yet widespread. And anyone who had worked out the math had a huge advantage. It's like, imagine that the markets are a whole bunch of people standing around trying to guess how much something weighs, and Peterffy - he's got a scale.KESTENBAUM: The formula it tells him what a reasonable price for an option should be. So then he can look at the market and see, oh, that one's trading for $18. It should be worth more. It should be $20. And if he sees one that's cheap, he can buy it. If one's overpriced, he can sell it. And this is the beginning of how Peterffy makes his fortune. And I should say here, it is substantial. As of 2012, Forbes estimates his net worth is over $5.4 billion.But at this point in our story, it's 1977. Peterffy is not yet rich. He has his secret formula. But he's got a problem, and it's a big one. At this moment, trading isn't really done by a computer. It happens in the physical world. There's a big trading pit here in New York. And you actually have to be standing there on the floor to buy or sell options. And the pit - it's a mob scene. You know, Peterffy can't bring his computer with the formula in it onto the trading floor with him. So he comes up with a plan.He has the computer do the math in advance, and he prints out all these tables on paper so he can look up what a price should be for a particular option selling at such-and-such a price. He puts the tables in a big three-ring binder, and he brings the binder down onto the trading floor with him. So you have to imagine the scene. There's this Hungarian guy with a strange accent, walks onto the trading floor with this big binder full of numbers.PETERFFY: People looked at me. (Laughter) What the heck is that? And so I said, well, you know, (laughter) these are my numbers that help me trade, hopefully. They made funny faces. And they - you know, many of them (laughter) didn't understand my accent. And it was (laughter) - I didn't feel very welcome there. But they - I - they thought I was a goon (laughter) of some sort.KESTENBAUM: And after a few days, the folks in charge tell him, you can't have this big binder on the floor. It's too crowded there as it is.PETERFFY: So I started to fold up my papers and put them into various pockets. And by the end of the day rush (laughter), looked like a madman with all these papers hanging out of all of my pockets. And I had to always wear a jacket so I had enough pockets to put my various papers.KESTENBAUM: The pocket thing - it works OK. He makes some money. But it's slow going.GOLDSTEIN: And just think about, really, how slow it is - how crude his setup is. He has to get all this data and enter it into the computer by hand. He has to type it in. Then the computer does its calculations, spits out these tables. Peterffy has to put the tables in his pockets. He's always got to be pulling out the tables on the trading floor. And then he - he's got to wave his hands around and actually buy and sell the stuff from other people on the floor.KESTENBAUM: And really, there is no need for him to be involved at all, right? His dream is to have a computer handle everything. He can just sit back and watch the money pile up. But for that to happen, he needs to overcome two obstacles. First, he needs a way to get the data - all the prices from the markets - into the computer so it can do its calculations.These are still really early days for getting a live data stream. But there are these things called Quotron machines that you could buy. I actually remember seeing one of these in an office at a bank when I was a kid. It was a keyboard attached to one of those early boxy computer monitors where the text was all in green.PETERFFY: It was basically the first replacement for the paper ticker that would click, click, click, click, click, click, click, right? Actually, tick, tick, tick, tick, tick. That's why it was called a ticker (laughter).KESTENBAUM: You type in the stock you're interested in to the Quotron machine, like DD for DuPont. And the machine would tell you what the current stock price was. It was amazing. Peterffy thought, this is great. In 1982, he buys one of these machines. He gets it wired up. Now he's got these live stock prices in green on the screen.But remember he needs a way to get the stock prices into his computer, so it can do all the fancy math. So he reads through the contract for his Quotron machine. He checks that there's no restrictions on what you can actually do with your Quotron machine. And then he cuts the cable that goes into the back of the Quotron machine, the cable that's carrying all the information about the stock prices.And he wires that cable directly into his computer. It takes a while. He has to hire some people to help. But, eventually, it works. He'd hacked into the data stream. And now his computer could crunch the data instantly. Peterffy didn't have to enter all the prices by hand anymore.GOLDSTEIN: And this really is another key moment. I mean, we take for granted today that, sure, you can go to any computer - your computer - and look up the price of any stock. But Peterffy - in order to do this, he had to hack into the Quotron system. He actually had to cut the cable and, like, bolt it into his computer.KESTENBAUM: Yeah. Today, you would just, like, type in the stock. He had to get, like, an oscilloscope and a soldering iron, all this stuff. So now he can get the data in. But to act on it, to buy or sell options, that still has to happen manually. So he hires a bunch of traders. And he works on a clever system so they don't have to carry around pieces of paper.He and his engineers build what are kind of like proto-iPads, tablet computers that'll tell the traders what to buy and sell. I saw one of these things in his office. It looks like something that might've flown on an early moon mission. It's this, like, metal box screwed together. It's got a touch screen on top. It looks very experimental. And it was.PETERFFY: There are problems. Like, they're driven by lithium batteries. And one of the boxes exploded on the trading floor, you know, a big - went up in big smoke. And people said, this is dangerous (laughter).GOLDSTEIN: So Peterffy here is using computers to trade - sort of. But it's definitely not yet computerized trading. He still has to have people with these exploding proto-iPads who have to go wave their arms around and holler in the trading pit. And Peterffy is still dreaming of the day when he can finally take these traders out of the loop.KESTENBAUM: This finally happens in 1987 at Nasdaq. The Nasdaq stock exchange is the world's first electronic market, meaning there is no trading floor. You buy and sell by typing orders into a computer, a Nasdaq terminal. Pterffy is psyched. He gets himself a Nasdaq terminal. His team does their hacking again, cuts the cable. And now, finally, for the first time, it is all automated. His office looks like this.There's a Nasdaq terminal and, next to it, a computer. The whole thing is silent. And it is trading up a storm. It's making lots and lots of trades, so many trades that people start to notice. A high-up official with the NASDAQ exchange comes by Peterffy's office to see. Peterffy says the guy's expecting a roomful of traders and terminals. Instead, there is just this one terminal attached to a computer.PETERFFY: And he looks and looks and looks. And he says, so tell me again how you're do this (laughter). And so I explain what's happening here. And then he says, I don't think you can do this. But - I really don't think. But let me go back to my office and let you know. And he calls back, and he says, well, look in your Nasdaq rule book. It says that orders have to be input via the keyboard. And you are not doing that. You're just splicing in the wire. So this is not good. You are violating the rules. We're giving you a week to correct this rule violation.KESTENBAUM: One week.PETERFFY: One week. So we saw the problem (laughter).KESTENBAUM: Peterffy thinks and think. He talks it over with his engineers. And they come up with a solution. The rules just say the buy and sell orders have to be entered through the keyboard. So Peterffy's team builds a machine that does that.PETERFFY: So it was basically - they were rubber fingers that they're typing.KESTENBAUM: You built a robot to type in the trades.PETERFFY: We built a robot that types.KESTENBAUM: Peterffy is very pleased. For him, this kind of highlights the absurdity of the situation. And a week later, the official at Nasdaq comes back.PETERFFY: I triumphantly show him our creation (laughter). And I tell you he opened his mouth and never closed it (laughter).KESTENBAUM: What did that thing sound like when it was running?PETERFFY: It was - that was the only problem with it - was very loud. So you could tell how much activity there was in the market because it was typing like crazy, like a machine gun - (imitating machine gun). People started to wear ear muffs - not ear muffs. What do you call it?KESTENBAUM: Ear plugs.PETERFFY: Ear plugs.KESTENBAUM: And in the next years, in the 1990s, computerized trading gets a lot easier. You didn't have to build a typing robot anymore. The exchanges started to allow Peterffy and others trying to do this just to plug their computers right into the market.GOLDSTEIN: And this brings us to where we are today. Now, according to an estimate by the Tab Group, half of all stock trades are done because an algorithm told the computer to buy or sell.KESTENBAUM: Peterffy today is one of the big players. The company he started called Interactive Brokers - it does electronic trades on a mind-boggling scale. The company has two parts. One is a broker, basically, that lets people do trades quickly electronically. The other part does what's called market making. When somebody wants to sell a stock, say, their computers will buy it, then turn around and sell it when someone else wants it. You don't make a lot of money on every trade, but you do lots and lots of them. Peterffy says automation has done some very good things for the world. In the olden days, back when you needed people to do all your trades, those people charged you a lot of money to do that.PETERFFY: For example, at the Interactive Brokers, the average commission we charge on a trade is $4.50 or something like that, so it's very, very cheap compared to, you know, 20 years ago, if you wanted to do a trade, it would cost you $50 or $60. So it's - the savings are humongous. It's really huge.KESTENBAUM: Commissions - what he's talking about there - are definitely lower. And this is better for everybody. There's real social value to this. Like, anyone who's ever bought and sold a stock, anyone with a retirement account, they get a better deal in a lot of ways. The financial markets now - they are like very well-oiled machines.GOLDSTEIN: OK, yes, there are some benefits from this. But, you know, if the markets are now well-oiled machines, they seem like well-oiled machines that keep rushing off the road at high speed and crashing into trees.KESTENBAUM: There was the flash crash we described at the beginning, and that did happen because we had machines that were trading with other machines. Peterffy says he remembers that day very clearly.So where were you when the flash crash happened?PETERFFY: I was right here. I was sitting by my machine there - here, and I just couldn't believe what was going on. I picked up the phone, and I said, what's happening? And people said, we don't know. (Laughter) It was going not a good thing.KESTENBAUM: The next thing Peterffy said is a little surprising. I kind of expect guys like Peterffy to just say, look, faster is better, more automation is better. But he says we've reached a point of absurdity where everyone is trying to be faster and faster and faster to beat the next guy by a thousandth of a second.PETERFFY: We are competing on milliseconds. And whether you can shave off 3 milliseconds in the execution of an order has absolutely no social value.KESTENBAUM: In fact, it may be making the whole system less stable. It's certainly making everything more expensive for everyone. Companies that trade, his included, have to keep spending more and more money just to be a tiny bit faster. Now you have to put your computers physically right next to the stock exchange. You have to think about sending signals with lasers instead of regular wires. Companies are also talking about laying new optical fibers underneath the Arctic Ocean in a particular direction just so people who pay for it can get trades to European or Japanese markets a teeny bit faster.PETERFFY: It's basically not unlike the arms race used to be against the Russians 20 years ago or 30 years ago, right? It's the same question, right? Who builds the bigger bomb? Who builds more of them?GOLDSTEIN: So how do you put a stop to that, though?PETERFFY: Well, that's the question. That's - you know, it's an interesting situation. It's a situation where I do not quite see how this will resolve itself. It's to the benefit - I don't see how it will resolve itself to the benefit of the marketplace. That's a quandary.KESTENBAUM: Peterffy is in favor of some more regulation, regulation that will build in some safeguards and, in the process, slow things down. The challenge will be, of course, that people will always try to find a way around the rules. There's always someone willing to build a robot that types.(SOUNDBITE OF SONG, "TWO SILVER TREES")CALEXICO: (Singing) There are code-breakers with lines well-tapped.GOLDSTEIN: As always, let us know what you think. You can email us at planetmoney@npr.org or find us on the blog at npr.org/money. We're also on Twitter and Facebook.KESTENBAUM: We are indebted today to Christopher Steiner, who describes all of this and more in his book "Automate This," which is just out. We'll put a link to it on the blog. I'm David KestenbaumGOLDSTEIN: And I'm Jacob Goldstein. Thanks for listening.(SOUNDBITE OF SONG, "TWO SILVER TREES")CALEXICO: (Singing) False sense of warning, no poison cup, just deception crawling up like a snake. Decay of the blossoms and roots well-hacked spoil the hidden waters...